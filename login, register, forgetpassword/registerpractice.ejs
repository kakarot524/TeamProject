<!DOCTYPE html>
<html> 
    <head> 
    <link rel="stylesheet" type="text/css" href="/assets/style.css" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet" type="text/css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
          
    <style>
    .register{
     width:50%;
     height:50%;
     
     margin:0 auto;

    }
    .imgicon {
    text-align:center;
    margin: 6px 0 6px 0;
    margin-left:50px;
    margin-top:-20px;
    }
    img.avatar {
    width: 70%;
    border-radius: 80%;
    right:20%;
    text-indent:20px;
    }
    

/*Style the submit button */
input[type=submit] {

    background-color: grey;
    color: white;
    width:160px;

}
.intro {
    background-color: #f4511e;
    color: #fff;
    padding: 20px 20px;
    font-family: Montserrat, sans-serif;
}
/*Style the container for inputs */

/* The message box is shown when the user clicks on the password field */
#message {
    display:none;
    background: #f1f1f1;
    color: #000;
    position: relative;
    padding: 20px;
    
}

label{
    display: inline-block;
    width: 250px;

}
input {
  display: inline-block;
  width:400px;
  line-height:2em;
  float:left;

}

#message p {
    padding: 10px 35px;
    font-size: 12px;
}

/* Add a green text color and a checkmark when the requirements are right */
.valid {
    color: green;
}

.valid:before {
    position: relative;
    left: -35px;
    content: "✔";
}

/* Add a red text color and an "x" when the requirements are wrong */
.invalid {
    color: red;
}

.invalid:before {
    position: relative;
    left: -35px;
    content: "✖";
}

          </style>
          </head>
        
        <body>
              <!-- Regis stuff<% include partial/nav.ejs %>
              <h1> This is the nav bar ^ </h1>-->
              <div class="intro">
              <h1><center>Wipro Inventory Management System</center></h1>
              <h4><center>Account Registration</center></h4>
              </div>
              <table>
                <tr>
                    <th>
                        <div class="register"  style="max-height: 70%" float="center">
                <div class="imgicon">
                <img src="http://churchinperth.com/ChurchesWA/wp-content/uploads/2015/04/gfx-person-icon.png" alt="Avatar" class="avatar">
                </div>
                        
              <form method= "post" action="/WelcomeNewUser"  >
                         <p>
                        <label>Username</label>
                        <input type="text" placeholder="Enter your Username" required name = "username"/>
                        </p>
                        <p>
                        <label>Password</label>
                        <input type="password" id="password" placeholder="Enter your password" name="password" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}" title="Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters" required>
                        </p>
                        <p>
                        <label>Re-type Password</label>
                        <input type="password" id="confirm" placeholder="Re-enter password" name="confirm">
                        </p>
                        <p>
                        <label>First Name</label>
                        <input type="text" placeholder="Enter your firstname" required name = "fname"/>
                        </p>
                        <p>
                        <label>Last Name</label>
                        <input type="text" placeholder="Enter your lastname" required name = "lname"/>
                        </p>
                        <p>
                        <label>Email</label>
                        <input type="email" placeholder="Enter a valid email" required name = "email"/>
                        </p>
                     
                         <p>
                            <input type="submit" value="Register"/>
                        </p>
                    </form>
                

                        <p>
                        <form action="/">
                               <input type="submit" value="back"/>
                        </form> 
                        </p> 
                    </div> 
                    </th>
                        <th>

    <div id="message">
        <h3>Password must contain the following:</h3>
        <p id="letter" class="invalid">A <b>lowercase</b> letter</p>
        <p id="capital" class="invalid">A <b>capital (uppercase)</b> letter</p>
        <p id="number" class="invalid">A <b>number</b></p>
        <p id="length" class="invalid">Minimum <b>8 characters</b></p>
    </div>
        </th>
     </tr>
    </table>  
               
                </p>
            <script>
                var password = document.getElementById("password");
                var confirm = document.getElementById("confirm");

            function validatePassword(){
                if(password.value != confirm.value) {
                    confirm.setCustomValidity("Passwords Don't Match");
                    } 
                    else {
                    confirm.setCustomValidity("");
                    }
                }

                password.onchange = validatePassword;
                confirm.onkeyup = validatePassword;
              
              </script>

                <script>
        var myInput = document.getElementById("password");
        var letter = document.getElementById("letter");
        var capital = document.getElementById("capital");
        var number = document.getElementById("number");
        var length = document.getElementById("length");

        // When the user clicks on the password field, show the message box
        myInput.onfocus = function() {
            document.getElementById("message").style.display = "block";
        }

        // When the user clicks outside of the password field, hide the message box
        myInput.onblur = function() {
            document.getElementById("message").style.display = "none";
        }

        // When the user starts to type something inside the password field
        myInput.onkeyup = function() {
            // Validate lowercase letters
            var lowerCaseLetters = /[a-z]/g;
            if(myInput.value.match(lowerCaseLetters)) {  
                letter.classList.remove("invalid");
                letter.classList.add("valid");
            } else {
                letter.classList.remove("valid");
                letter.classList.add("invalid");
            }
  
            // Validate capital letters
            var upperCaseLetters = /[A-Z]/g;
                if(myInput.value.match(upperCaseLetters)) {  
                capital.classList.remove("invalid");
                capital.classList.add("valid");
            } else {
                capital.classList.remove("valid");
                capital.classList.add("invalid");
            }

            // Validate numbers
            var numbers = /[0-9]/g;
            if(myInput.value.match(numbers)) {  
                number.classList.remove("invalid");
                number.classList.add("valid");
            } else {
                number.classList.remove("valid");
                number.classList.add("invalid");
            }
  
            // Validate length
            if(myInput.value.length >= 8) {
                length.classList.remove("invalid");
                length.classList.add("valid");
            } else {
                length.classList.remove("valid");
                length.classList.add("invalid");
            }
            }
    </script>
        </body>
      </html>